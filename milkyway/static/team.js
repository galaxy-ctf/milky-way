// Generated by CoffeeScript 1.12.6
(function() {
  var load_achievement_info, load_team_info, renderAchievementInformation, renderGroupInformation, renderTeamInformation;

  renderTeamInformation = _.template($("#team-info-template").remove().text());

  renderGroupInformation = _.template($("#group-info-template").remove().text());

  renderAchievementInformation = _.template($("#achievement-info-template").remove().text());

  load_team_info = function() {
    return apiCall("GET", "/api/team").done(function(data) {
      var j, x;
      switch (data["status"]) {
        case 0:
          apiNotify(data);
          return ga('send', 'event', 'Team', 'LoadFailure', data.message);
        case 1:
          $("#team-info").html(renderTeamInformation({
            data: data.data
          }));
          x = "<ul>" + ((function() {
            var i, len, ref, results;
            ref = data.data.justification;
            results = [];
            for (i = 0, len = ref.length; i < len; i++) {
              j = ref[i];
              results.push("<li>" + _.escape(j) + "</li>");
            }
            return results;
          })()).join("") + "</ul>";
          return $('#eligibility-exp').data("content", x);
      }
    });
  };

  load_achievement_info = function() {
    return apiCall("GET", "/api/achievements").done(function(data) {
      switch (data['status']) {
        case 0:
          apiNotify(data);
          return ga('send', 'event', 'Achievements', 'LoadFailure', data.message);
        case 1:
          console.log(data.data);
          return $("#achievement-info").html(renderAchievementInformation({
            data: data.data
          }));
      }
    });
  };

  $(function() {
    load_team_info();
    load_achievement_info();
    window.drawTeamProgressionGraph("#team-progression-graph", "#team-progression-graph-container");
  });

}).call(this);
