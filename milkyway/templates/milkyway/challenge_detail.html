{% extends "site_base.html" %}

{% load account_tags %}
{% load i18n %}
{% load bootstrap3 %}

{% block body %}
<!-- Jumbotron -->
    <div class="container content">
        <div class="row">
			<div class="col-sm-12">
				<h3>{{ object.name }}</h3>
			</div>
			<div class="col-sm-6 well">
				{% if form %}
				<form method="POST">
					<h4>Solution</h4>
					{% csrf_token %}
					{% bootstrap_form form %}
					<input type="hidden" name="challenge_id" value="{{object.id}}">
					<button type="submit" class="btn btn-primary">Submit</button>
				</form>
				{% else %}
					<h4>You've already solved this challenge</h4>
				{% endif %}
			</div>

			<div class="col-sm-6">
				<h4>About</h4>
				<p>{{ object.description }}</p>
				<span class="label label-success">points={{ object.value }}</span>
				<span class="label label-success">category={{ object.category.name }}</span>
				{% if object.hint_set.count > 0 %}
				<h4>Hints</h4>
				{% for hint in object.hint_set.all %}
					<button class="btn btn-secondary" onclick="javascript:$('#hint-{{ hint.id }}').css('visibility', 'initial')">
						Hint {{ forloop.counter }}
					</button>
					<div id="hint-{{ hint.id }}" style="visibility: hidden; padding-top: 0.5em; padding-bottom: 0.5em;">
						<div>{{ hint.text }}</div>
				{% endfor %}

				{% for hint in object.hint_set.all %}
				</div>
				{% endfor %}


				{% endif %}
			</div><!-- /.col-lg-4 -->
        </div>
    </div>
{% endblock %}
