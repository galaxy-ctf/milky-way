{% extends "site_base.html" %}

{% load i18n %}
{% load bootstrap3 %}

{% block breadcrumbs %}
<ol class="breadcrumb">
	<li><a href="/">Home</a></li>
	<li><a href="{% url 'team-list' %}">Teams</a></li>
	<li class="active">{{ object.name }}</li>
</ol>
{% endblock %}

{% block body %}
<!-- Jumbotron -->
	<div class="row">
		<div class="col-sm-8">
			<h2>{{ object.name }}</h2>
		</div>
		{% if request.user.is_authenticated and request.user.account.team == team and competition_active %}
		<div class="well col-sm-4">
			<p>
			As part of GCCCTF we've launched a private Galaxy instance for you to hack on:
				<a target="_blank" href="https://gx.ctf.galaxians.org/galaxy-{{ team.name }}">/galaxy-{{ team.name }}</a>
			</p>
			<p>
			The password is your team's password: <code>{{ team.password }}</code>
			</p>
		</div>
		{% endif %}
	</div>
	<div class="row">
		<div class="col-sm-6">
			<h3>Members</h3>
			<table class="table table-striped">
				<thead><tr><th>User</th></tr></thead>
				<tbody>
				{% for obj in object.account_set.all %}
				<tr>
					<td>{{ obj }}</td>
				</tr>
				{% endfor %}
				</tbody>
			</table>
		</div>
		<div class="col-sm-6">
			<h3>Solved Challenges</h3>
			<table class="table table-striped">
				<thead><tr><th>Challenge</th><th>Points</th></tr></thead>
				<tbody>
				{% for obj in object.solves_set.all %}
				<tr>
					<td>{{ obj.challenge.name }}</td>
					<td>{{ obj.challenge.value }}</td>
				</tr>
				{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
{% endblock %}
